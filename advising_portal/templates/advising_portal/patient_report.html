{% extends "advising_portal/base.html" %}
{% load static %}
{% load custom_tags %}
{% block content %}
    <div class="row">
        <div class="semesters-dropdown-menu col-8">
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle w-50" type="button" id="dropdownMenuButton"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    {{ patient_name }}
                </button>
                <div class="dropdown-menu w-50" aria-labelledby="dropdownMenuButton">
                    {% for patient in patients %}
                        <a class="dropdown-item"
                           href="{% url 'lab-patient-report' %}?patient_id={{ patient.patient_id }}">{{ patient.name }}</a>
                    {% endfor %}
                </div>
            </div>
        </div>

{#        {% if user|has_group:"chairman" %}#}
{#            <div class="col-4" align="right">#}
{#                <a href="{% url 'faculty-panel-course-create' %}"#}
{#                   class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm">#}
{#                    <i class="fas fa-download fa-sm text-white-50"></i>Create Course</a>#}
{#            </div>#}
{#        {% endif %}#}
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="row">
              <div class="col-6"><strong>Patient ID</strong></div>
              <div class="col-6">{{ patient_id }}</div>
            </div>
            <div class="row">
              <div class="col-6"><strong>Name</strong></div>
              <div class="col-6">{{ patient_name }}</div>
            </div>
            <div class="row">
              <div class="col-6"><strong>Age</strong></div>
              <div class="col-6">{{ age }}</div>
            </div>
            <div class="row">
              <div class="col-6"><strong>Gender</strong></div>
              <div class="col-6">{{ gender }}</div>
            </div>
        </div>

        <div class="col-md-12 col-lg-12">
            <div class="table-responsive card shadow custom-left-table-align">
                <table id="myTable" class="table table-striped">
                    <tbody>
                    <tr>
                        <th class="col-md-1"><b>Test ID</b></th>
                        <th class="col-md-1"><b>Heart Rate</b></th>
                        <th class="col-md-1"><b>Oxygen Sat</b></th>
                        <th class="col-md-1"><b>Temperature</b></th>
                        <th class="col-md-1"><b>SBP</b></th>
                        <th class="col-md-1"><b>Generate</b></th>
                    </tr>

                    {% for data in patient_stats %}

                        <tr>
                            <td class="col-md-1">{{ data.test_id }}</td>
                            <td class="col-md-1">{{ data.HR }}</td>
                            <td class="col-md-1">{{ data.O2Sat }}</td>
                            <td class="col-md-1">{{ data.Temp }}</td>
                            <td class="col-md-1">{{ data.SBP }}</td>
                            <td class="col-md-1">
                                <button class="btn btn-outline-danger" type="submit"
                                        onclick="location.href='{% url 'faculty-panel-course-detail' data.test_id %}'">
                                    Report
                                </button>
                            </td>
                        </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

{% endblock content %}
